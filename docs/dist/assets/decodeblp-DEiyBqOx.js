import"./modulepreload-polyfill-_HzmMr5C.js";import{d as v,g as h}from"./decode-t1SF2Phh.js";/*!
    war3-model v4.0.0
	https://github.com/4eb0da/war3-model
	Released under the MIT License.
*/document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".container"),l=document.querySelector(".preview"),u=document.querySelector(".label");let m;t.addEventListener("dragenter",function(e){m=e.target,t.classList.add("container_drag"),e.preventDefault()}),t.addEventListener("dragleave",function(e){e.target===m&&t.classList.remove("container_drag")}),t.addEventListener("dragover",function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy"}),t.addEventListener("drop",function(e){e.preventDefault(),t.classList.remove("container_drag");const f=e.dataTransfer.files&&e.dataTransfer.files[0];if(!f)return;const d=new FileReader;d.onload=()=>{try{const a=v(d.result);console.log(a),p(),t.classList.add("container_hidden");for(let c=0;c<a.mipmaps.length;++c){const r=h(a,c),o=document.createElement("canvas");o.width=r.width,o.height=r.height,o.getContext("2d").putImageData(r,0,0);const i=document.createElement("div");i.className="preview-item";const s=document.createElement("div");s.className="preview-item__label",s.textContent=`${r.width}x${r.height}`,i.appendChild(o),i.appendChild(s),l.appendChild(i)}}catch(a){g(a)}},d.readAsArrayBuffer(f)});function p(){l.innerHTML=""}function g(n){p(),t.classList.remove("container_hidden"),u.textContent=n,console.error(n)}});
